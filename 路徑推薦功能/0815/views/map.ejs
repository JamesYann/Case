<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    
<title>map</title>
<!-- 連結思源中文及css -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB"
    crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
    crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
    crossorigin="anonymous"></script>

<script src="https://maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyA2dazAHnsooxnM6akxlJcp_vq1klEDScE"></script>

<script type="text/javascript">
    var directionsService = new google.maps.DirectionsService();
    var map;
    var start = "國立臺北商業大學";
    var end = "新莊體育館";
    var waypoints = "臺北101大樓,國立臺北商業大學,三和夜市,新莊體育館";
    
    //初始化
    function initialize() {
            //規畫路徑呈現選項
            var rendererOptions = {
                    suppressMarkers: true
            };
    
            directionsDisplay = new google.maps.DirectionsRenderer(rendererOptions);
            var startPoint = new google.maps.LatLng(25.042104, 121.525599);
            var myOptions = {
                    zoom: 20,
                    mapTypeId: google.maps.MapTypeId.ROADMAP,
                    center: startPoint
            }
            map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
            directionsDisplay.setMap(map);
    }
    
    //規畫路徑
    function calcRoute() {
            if (!waypoints) return;
    
            var arrPoint = waypoints.split(",");
    
            //經過地點
            var waypts = [];
            for (var i = 0; i < arrPoint.length; i++) {
                    waypts.push({
                            location: arrPoint[i],
                            stopover: true
                    });
            }

            

            
    
            //規畫路徑請求
            var request = {
                    origin: start,
                    destination: end,
                    waypoints: waypts,
                    optimizeWaypoints: false,
                    travelMode: google.maps.DirectionsTravelMode.DRIVING
            };


            
            
            directionsService.route(request, function(response, status) {
                    //規畫路徑回傳結果
                    if (status == google.maps.DirectionsStatus.OK) {
                            directionsDisplay.setDirections(response);
                    }
            });
    }
</script>


<style type="text/css">
    body {
        font-family: 微軟正黑體, "Times New Roman",
            Times, serif;
        color:#4D3900;
        background-color: #feffcc }
</style>  
<!------------------------->
<style>
    /* Always set the map height explicitly to define the size of the div
     * element that contains the map. */
    #map {
      height: 100%;
    }
    /* Optional: Makes the sample page fill the window. */
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
  </style>

</head>
   
<body onload="initialize();calcRoute();">
    <!--**************************-->
    <div class="container">    
        <!--~~~~~~~~~~~~~~~~~-->
        <div class="header">           
        </div>        
        
        
    </div>
    <!--**************************-->    
    <!--~~~~~~~~~~~~~~~~~--> 
        <!--chavel-->
        <div class="container mt-3">
        
            <div class="alert alert-success" role="alert" style="margin-bottom: 2rem">
                    <h1 class="alert-heading text-center" >路徑推薦</h1>
                    <p Align="Center">希望您能排出愉快的旅行!</p>
                    
            </div>

          

        

        </div>

        <div id="map_canvas" style="width: 100%; height: 100%">
        </div>

        


  

    </div>
    
        <!--chavel-->

        
     
</body>
   
</html>